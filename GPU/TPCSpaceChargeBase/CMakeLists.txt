o2_add_library(TPCSpaceChargeBase
               PUBLIC_LINK_LIBRARIES
               ROOT::Matrix
               ROOT::Hist
               PUBLIC_INCLUDE_DIRECTORIES
               ${CMAKE_CURRENT_LIST_DIR}
               SOURCES
               AliTPC3DCylindricalInterpolator.cxx
               AliTPC3DCylindricalInterpolatorIrregular.cxx
               AliTPCLookUpTable3DInterpolatorD.cxx
               AliTPCLookUpTable3DInterpolatorIrregularD.cxx
               AliTPCPoissonSolver.cxx
               AliTPCSpaceCharge3DCalc.cxx)

o2_target_root_dictionary(TPCSpaceChargeBase
                          HEADERS
                          AliTPC3DCylindricalInterpolator.h
                          AliTPC3DCylindricalInterpolatorIrregular.h
                          AliTPCLookUpTable3DInterpolatorD.h
                          AliTPCLookUpTable3DInterpolatorIrregularD.h
                          AliTPCPoissonSolver.h
                          AliTPCSpaceCharge3DCalc.h
                          LINKDEF
                          TPCSpaceChargeBaseLinkDef.h)

o2_add_test(SpaceChargeBase
            SOURCES
            ctest/testTPCSpaceChargeBase.cxx
            COMPONENT_NAME
            gpu
            LABELS
            gpu
            PUBLIC_LINK_LIBRARIES
            O2::TPCSpaceChargeBase)
