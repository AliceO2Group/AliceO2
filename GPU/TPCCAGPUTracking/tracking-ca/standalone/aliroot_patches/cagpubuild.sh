echo cuda
/usr/local/cuda/bin/nvcc --cuda --use_fast_math --maxrregcount 64 -O4 -Xptxas -v -Xptxas -O4 -arch sm_13 --compiler-options "-DPACKAGE_TARNAME=\"alice-hlt\" -DPACKAGE_VERSION=\"35631\" -DPACKAGE_BUGREPORT=\"Matthias.Richter@ift.uib.no\" -DPACKAGE=\"alice-hlt\" -DVERSION=\"35631\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DLT_OBJDIR=\".libs/\" -DNDEBUG=1 -Duse_aliroot=1 -Duse_root=1 -DHAVE_HOMERREADER=1 -DHLT_SAMPLE=1 -DHLT_UTIL=1 -DHAVE_ALITPCRAWSTREAM_H=1 -DHLT_TPC=1 -DHAVE_NOT_TPCOFFLINE_REC=1 -DHAVE_TPC_MAPPING=1 -DHAVE_ALIALTRODECODER_H=1 -DHLT_RCU=1 -DHAVE_ALICALORAWSTREAM=1 -DHLT_CALO=1 -DHAVE_ALICALORAWSTREAM=1 -DHLT_PHOS=1 -DHLT_EMCAL=1 -DHLT_TRD=1 -DHLT_FMD=1 -DHAVE_ALIMPEXMAP_H=1 -DHAVE_ALIMUONTRIGGERIO_H=1 -DHLT_MUON=1 -DHLT_TRIGGER=1 -DHLT_GLOBAL=1 -DHLT_JET=1 -DHAVE_ALIITSCOMPRESSRAWDATASDD_H=1 -DHLT_ITS=1 -DHLT_COMP=1 -ITPCLib -DMODULE=AliHLTTPC -ITPCLib/tracking -ITPCLib/comp -ITPCLib/tracking-ca -ITPCLib/offline -IBASE -IBASE/util -IRCU -I$ALICE_ROOT/TPC  -I$ALICE_ROOT/RAW  -I$ALICE_ROOT/STEER -I$ROOTSYS/include -W -Weffc++ -Wall -Wshadow -I$ALICE_ROOT/include -I$ALICE_ROOT/RAW -I$ALICE_ROOT/TPC -DROOTVERSION=\"5.25/02\" -DALIROOTVERSION=\"Unknown\" -O2 -DBUILD_GPU" TPCLib/tracking-ca/AliHLTTPCCAGPUTrackerNVCC.cu --output-file build-prod/TPCLib//AliHLTTPCCAGPUTrackerNVCC.cu.cxx
echo patch
patch -i TPCLib/tracking-ca/AliHLTTPCCAGPUTrackerNVCC.cu.patch build-prod/TPCLib/AliHLTTPCCAGPUTrackerNVCC.cu.cxx
echo compile
c++ -fPIC -DPACKAGE_TARNAME=\"alice-hlt\" -DPACKAGE_VERSION=\"35631\" -DPACKAGE_BUGREPORT=\"Matthias.Richter@ift.uib.no\" -DPACKAGE=\"alice-hlt\" -DVERSION=\"35631\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DLT_OBJDIR=\".libs/\" -DNDEBUG=1 -Duse_aliroot=1 -Duse_root=1 -DHAVE_HOMERREADER=1 -DHLT_SAMPLE=1 -DHLT_UTIL=1 -DHAVE_ALITPCRAWSTREAM_H=1 -DHLT_TPC=1 -DHAVE_NOT_TPCOFFLINE_REC=1 -DHAVE_TPC_MAPPING=1 -DHAVE_ALIALTRODECODER_H=1 -DHLT_RCU=1 -DHAVE_ALICALORAWSTREAM=1 -DHLT_CALO=1 -DHAVE_ALICALORAWSTREAM=1 -DHLT_PHOS=1 -DHLT_EMCAL=1 -DHLT_TRD=1 -DHLT_FMD=1 -DHAVE_ALIMPEXMAP_H=1 -DHAVE_ALIMUONTRIGGERIO_H=1 -DHLT_MUON=1 -DHLT_TRIGGER=1 -DHLT_GLOBAL=1 -DHLT_JET=1 -DHAVE_ALIITSCOMPRESSRAWDATASDD_H=1 -DHLT_ITS=1 -DHLT_COMP=1 -I. -I../../TPCLib -DMODULE=AliHLTTPC -I../../TPCLib -I../../TPCLib/tracking -I../../TPCLib/comp -I../../TPCLib/tracking-ca -I../../TPCLib/offline -I../../BASE -I../../BASE/util -I../../RCU -I$ALICE_ROOT/TPC  -I$ALICE_ROOT/RAW  -I$ALICE_ROOT/STEER -I$ROOTSYS/include -W -Weffc++ -Wall -Wshadow -I$ALICE_ROOT/include -I$ALICE_ROOT/RAW -I$ALICE_ROOT/TPC -DROOTVERSION=\"5.25/02\" -DALIROOTVERSION=\"Unknown\" -O2 -DBUILD_GPU -c build-prod/TPCLib/AliHLTTPCCAGPUTrackerNVCC.cu.cxx -o build-prod/TPCLib/AliHLTTPCCAGPUTrackerNVCC.o
echo compile root
g++ -Duse_aliroot -Duse_root -DROWHOUGHPARAMS -Duse_reconstruction -Duse_newio -DROOTVERSION=\"unchecked\" -DALIROOTVERSION=\"unchecked\" -D__ROOT__ -DUSE_ALILOG -DLINUX -DNDEBUG -DBUILD_GPU -D_MODULE_=\"HLT\" -c -ITPCLib -ITPCLib/tracking -ITPCLib/comp -ITPCLib/tracking-ca -ITPCLib/offline -IBASE -IBASE/util -IRCU -I/usr/local/cuda/include -I/opt/HLT/aliroot/AliRoot_HEAD_2009-10-28 TPCLib/tracking-ca/G__AliHLTTPCCAGPU.cxx -o build-prod/TPCLib/G__AliHLTTPCCAGPU.o -O -g -W -Wall -Weffc++ -fPIC -pipe -fmessage-length=0 -Wno-long-long -ansi -Dlinux -D`uname` -DDATE_SYS=`uname` -Dlong32='int' -Dlong64='long long' -DdatePointer='long' -I$ALICE_ROOT/include -I$ROOTSYS/include -pthread -m64 -D__PHOSUTIL__ -D__EMCALUTIL__
echo link
c++ -shared build-prod/TPCLib/AliHLTTPCCAGPUTrackerNVCC.o build-prod/TPCLib/G__AliHLTTPCCAGPU.o -L/usr/local/cuda/lib64 -Lbuild-prod/lib -lcuda -lcudart -lAliHLTTPC -o build-prod/lib/libAliHLTTPCCAGPU.so
